<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>EcoTips Pro</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Inicio de sesión -->
  <div id="pantallaLogin">
    <h1>🌱 Bienvenido a EcoTips</h1>
    <input type="text" id="nombreUsuario" placeholder="Ingresa tu nombre" />
    <br />
    <button onclick="iniciarSesion()">Ingresar</button>
  </div>

  <!-- Pantalla de inicio -->
  <div id="pantallaInicio" class="seccionOculta">
    <h2>Hola <span id="usuarioActivo"></span> 👋</h2>
    <p id="fraseEcologica"></p>
    <img src="imagen 1.jpg" alt="Ecología" id="imagenInicio" />

    <!-- Selector de tema al estilo botón -->
    <div class="boton-tema">
      🎨 Tema:
      <select id="selectorTema" onchange="cambiarTema(this.value)">
        <option value="verde">Verde</option>
        <option value="azul">Azul</option>
        <option value="rosado">Rosado</option>
      </select>
    </div>

    <!-- Nivel y puntos -->
    <div class="infoUsuario">
      <div class="tarjetaNivel">
        🏆 Nivel:
        <span id="nivelUsuario"></span><br />
        <button class="btnVerNiveles" onclick="verNiveles()">Ver niveles</button>
      </div>
      <div class="tarjetaPuntos">
        ⭐ Puntos:
        <span id="puntosTotales">0</span>
      </div>
    </div>

    <button onclick="mostrarSeccion('pantallaTareas')">📋 Ver Tareas</button>
    <button onclick="mostrarSeccion('pantallaRealizadas')">✅ Tareas Realizadas</button>
  </div>

  <!-- Sección de tareas -->
  <div id="pantallaTareas" class="seccionOculta">
    <h2>Tareas ecológicas</h2>
    <select id="selectorTareas">
      <option disabled selected>Selecciona una tarea</option>
    </select>
    <br />
    <img id="imagenTareaEjemplo" src="" alt="Ejemplo de tarea" style="display: none" />
    <br />
    <button onclick="irACamara()">📸 Tomar Evidencia</button>
    <button onclick="mostrarSeccion('pantallaInicio')">← Volver</button>
  </div>

  <!-- Cámara -->
  <div id="pantallaCamara" class="seccionOculta">
    <h2>📷 Evidencia</h2>
    <p id="tareaSeleccionadaTexto"></p>
    <select id="selectorCamara" onchange="cambiarCamara(this.value)">
      <option value="user">📱 Frontal</option>
      <option value="environment">🌄 Trasera</option>
    </select>
    <br />
    <video id="video" autoplay playsinline></video>
    <br />
    <button onclick="tomarFoto()">📸 Capturar</button>
    <button onclick="mostrarSeccion('pantallaInicio')">← Volver</button>
    <canvas id="canvas" style="display: none"></canvas>
  </div>

  <!-- Tareas realizadas -->
  <div id="pantallaRealizadas" class="seccionOculta">
    <h2>✅ Tareas realizadas</h2>
    <div id="fotosGuardadas"></div>
    <button onclick="descargarHistorial()">⬇ Exportar Evidencia</button>
    <button onclick="mostrarSeccion('pantallaInicio')">← Volver</button>
  </div>

  <!-- Modal niveles -->
  <div id="modalNiveles" class="modal">
    <div class="modal-contenido">
      <span class="cerrar" onclick="cerrarModal()">&times;</span>
      <h3>🏅 Niveles</h3>
      <p>🌱 Principiante: 0 - 49 puntos</p>
      <p>🌿 Intermedio: 50 - 149 puntos</p>
      <p>🌳 Avanzado: 150+ puntos</p>
    </div>
  </div>

  <!-- Modal imagen grande -->
  <div id="modalImagen" class="modal" onclick="cerrarImagenGrande()">
    <img id="imagenGrande" />
  </div>

  <script src="app.js"></script>
</body>
</html>
